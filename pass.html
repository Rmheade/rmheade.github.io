<!DOCTYPE html>
<html>
   <head>
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
      <title>StudyBuddy - Personal Study Tool</title>
      <link rel="icon" type="image/x-icon" href="/images/favicon.ico">
      <meta charset="UTF-8">
      <meta name="author" content="HimeSpider">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <style>@import url("https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap");
         :root {
         --bg: #f6f8fb;
         --card: #ffffff;
         --muted: #6b7280;
         --accent: #2563eb;
         --accent-purple: #7c3aed;
         --radius: 12px;
         --text: #0f172a;
         }
         [data-theme="dark"] {
         --bg: #0f172a;
         --card: #1e293b;
         --muted: #94a3b8;
         --text: #f1f5f9;
         }
         body {
         background: linear-gradient(180deg, var(--bg), var(--bg));
         color: var(--text);
         font-family: Inter, ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
         margin: 0;
         overflow: auto;
         min-height: 100vh;
         transition: background 0.3s, color 0.3s;
         }
         #password-overlay {
         align-items: center;
         background: linear-gradient(180deg, var(--bg), var(--bg));
         display: flex;
         flex-direction: column;
         font-family: Inter, sans-serif;
         inset: 0;
         justify-content: center;
         position: fixed;
         z-index: 5;
         transition: background 0.3s;
         }
         #password-box {
         background: var(--card);
         border: 1px solid #e6e9ef;
         border-radius: 12px;
         color: var(--text);
         box-shadow: 0 6px 22px rgba(16, 24, 40, 0.06);
         max-width: 400px;
         padding: 32px;
         text-align: center;
         width: 90%;
         transition: background 0.3s, border 0.3s, color 0.3s;
         }
         [data-theme="dark"] #password-box {
         border-color: #334155;
         }
         #password-box h2 {
         color: var(--text);
         font-family: Inter, sans-serif;
         font-size: 24px;
         font-weight: 700;
         margin: 16px 0 24px 0;
         transition: color 0.3s;
         }
         #password-box input {
         border: 1px solid #e6e9ef;
         border-radius: 8px;
         box-sizing: border-box;
         font-size: 1rem;
         margin-bottom: 16px;
         padding: 10px 12px;
         width: 100%;
         font-family: Inter, system-ui;
         color: var(--text);
         background: var(--card);
         transition: background 0.3s, color 0.3s, border 0.3s;
         }
         [data-theme="dark"] #password-box input {
         border-color: #334155;
         }
         #password-box input::placeholder {
         color: var(--muted);
         }
         #password-box input:focus {
         border-color: #2563eb;
         outline: none;
         box-shadow: 0 0 0 3px rgba(37, 99, 235, 0.1);
         }
         #password-box button {
         background: #2563eb;
         border: none;
         border-radius: 8px;
         color: #ffffff;
         cursor: pointer;
         font-family: Inter, sans-serif;
         font-size: 14px;
         font-weight: 600;
         padding: 10px 12px;
         width: 100%;
         transition: all 0.2s ease;
         }
         #password-box button:hover {
         background: #1d4ed8;
         box-shadow: 0 6px 12px rgba(37, 99, 235, 0.2);
         }
         #password-box button:active {
         transform: scale(0.98);
         }
         #password-error {
         color: #ef4444;
         font-size: 0.85rem;
         margin-top: 12px;
         min-height: 1.2em;
         transition: color 0.3s;
         }
         #password-box .lock-message {
         align-items: center;
         display: flex;
         font-weight: 600;
         gap: 8px;
         justify-content: center;
         margin-bottom: 12px;
         font-size: 13px;
         color: var(--muted);
         transition: color 0.3s;
         }
         #password-box .lock-message span {
         color: #2563eb;
         font-size: 1.1rem;
         }
         .sitelock {
         color: var(--muted);
         font-size: 0.75rem;
         text-decoration: none;
         margin-top: 16px;
         transition: color 0.3s;
         }
         .sitelock:hover {
         color: #2563eb;
         }
      </style>
   </head>
   <body>
      <div id="password-overlay">
         <div id="password-box">
            <div class="lock-message"><small>Authorized Users Only</small></div>
            <h2>Enter Password</h2>
            <input type="password" id="password-input" placeholder="Password"> <button id="password-submit">Enter</button>
            <p id="password-error"></p>
         </div>
         <a href="https://www.sitelock.com/" target="_blank" class="sitelock">SiteLock</a>
      </div>

      <script src="https://cdn.jsdelivr.net/npm/js-sha256@0.11.0/src/sha256.min.js"></script>
      <script>
// Apply theme immediately (before DOMContentLoaded)
const theme = localStorage.getItem('studybuddy-theme') || 'light';
document.documentElement.setAttribute('data-theme', theme);

// Listen for theme changes from parent
window.addEventListener('message', (event) => {
  if (event.data && event.data.type === 'THEME_CHANGED') {
    document.documentElement.setAttribute('data-theme', event.data.theme);
    localStorage.setItem('studybuddy-theme', event.data.theme);
  }
});

// Request current theme from parent on load
window.addEventListener('load', () => {
  window.parent.postMessage({ type: 'GET_THEME' }, '*');
});

function pass() {
    let t = document.getElementById("password-overlay"),
        o = document.getElementById("password-input"),
        n = document.getElementById("password-submit"),
        l = document.getElementById("password-error");
    n.addEventListener("click", () => {
        var e;
        e = o.value;
        if ("5d3017004abba56e7c08c25c89cefbd8d5eda88a90f87ad0bdd231b9d68c7b0b" === sha256(e)) {
            t.style.display = "none";
            // Load the main content page in an iframe
            let iframe = document.createElement("iframe");
            iframe.src = "passindex.html";
            iframe.style.position = "fixed";
            iframe.style.inset = "0";
            iframe.style.width = "100%";
            iframe.style.height = "100%";
            iframe.style.border = "none";
            iframe.style.zIndex = "1";
            iframe.setAttribute("allowfullscreen", "true");
            iframe.setAttribute("allow", "fullscreen");
            document.body.appendChild(iframe);
        } else {
            l.textContent = "Incorrect password";
        }
    });
    o.addEventListener("keydown", e => {
        if ("Enter" === e.key) n.click();
    });
}

window.onload = () => {
    if (typeof pass === "function") pass();
};
      </script>
   </body>
</html>